{% extends 'emails/base_email.html' %}

{% block title %}Confirmation de commande #{{ order.order_number }} - La P'tit PastÃ¨k{% endblock %}

{% block content %}
<div class="greeting">
    Bonjour {{ order.shipping_name }},
</div>

<p>Merci pour votre commande ! Nous avons bien reÃ§u votre commande et nous la prÃ©parons avec soin.</p>

<div class="order-summary">
    <div class="order-header">
        <div class="order-number">Commande #{{ order.order_number }}</div>
        <div style="color: #6B7280; font-size: 14px;">
            PassÃ©e le {{ order.created_at|date:"d F Y Ã  H:i" }}
        </div>
        <div style="margin-top: 10px;">
            <span class="status-badge status-{{ order.status }}">{{ order.get_status_display }}</span>
        </div>
    </div>
    
    <div class="divider"></div>
    
    <h3 style="color: #EF4444; margin-bottom: 15px;">ğŸ“¦ Vos articles</h3>
    {% for item in order.items.all %}
    <div class="order-item">
        <div class="item-details">
            <div class="item-name">{{ item.product_name }}</div>
            <div class="item-quantity">QuantitÃ©: {{ item.quantity }}</div>
        </div>
        <div class="item-price">{{ item.total_price|floatformat:0 }} FCFA</div>
    </div>
    {% endfor %}
    
    <div class="order-total">
        <div>Total de votre commande</div>
        <div class="total-amount">{{ order.total_amount|floatformat:0 }} FCFA</div>
        {% if order.shipping_cost > 0 %}
        <div style="font-size: 14px; margin-top: 5px;">
            (dont {{ order.shipping_cost|floatformat:0 }} FCFA de livraison)
        </div>
        {% else %}
        <div style="font-size: 14px; margin-top: 5px;">
            ğŸ‰ Livraison gratuite !
        </div>
        {% endif %}
    </div>
</div>

<div class="content-section">
    <h2>ğŸšš Livraison</h2>
    <div class="address-box">
        <div class="address-title">Adresse de livraison :</div>
        <div>{{ order.shipping_name }}</div>
        {% if order.shipping_phone %}
        <div>ğŸ“ {{ order.shipping_phone }}</div>
        {% endif %}
        <div>{{ order.shipping_address_line1 }}</div>
        {% if order.shipping_address_line2 %}
        <div>{{ order.shipping_address_line2 }}</div>
        {% endif %}
        <div>{{ order.shipping_postal_code }} {{ order.shipping_city }}</div>
        <div>{{ order.shipping_country }}</div>
    </div>
    
    <p><strong>Mode de paiement :</strong> {{ order.get_payment_method_display }}</p>
    
    {% if order.notes %}
    <p><strong>Vos notes :</strong> {{ order.notes }}</p>
    {% endif %}
</div>

<div class="content-section">
    <h2>â° Que se passe-t-il maintenant ?</h2>
    <p>ğŸ” <strong>VÃ©rification :</strong> Nous vÃ©rifions votre commande et prÃ©parons vos dÃ©licieux jus de pastÃ¨que.</p>
    <p>ğŸ‰ <strong>PrÃ©paration :</strong> Nos artisans prÃ©parent vos jus avec des pastÃ¨ques fraÃ®ches sÃ©lectionnÃ©es.</p>
    <p>ğŸ“¦ <strong>ExpÃ©dition :</strong> Nous vous contacterons pour organiser la livraison.</p>
    <p>ğŸ‰ <strong>DÃ©gustation :</strong> Savourez nos jus 100% naturels !</p>
</div>

<div style="text-align: center; margin: 30px 0;">
    <a href="#" class="btn">Suivre ma commande</a>
</div>

<div class="content-section">
    <p>Si vous avez des questions concernant votre commande, n'hÃ©sitez pas Ã  nous contacter Ã  <a href="mailto:contact@laptitpastek.com" style="color: #EF4444;">contact@laptitpastek.com</a></p>
    
    <p>Merci de votre confiance et Ã  bientÃ´t pour de nouvelles dÃ©gustations !</p>
    
    <p style="margin-top: 20px;">
        <span class="watermelon-decoration">ğŸ‰</span>
        L'Ã©quipe La P'tit PastÃ¨k
        <span class="watermelon-decoration">ğŸ‰</span>
    </p>
</div>
{% endblock %}